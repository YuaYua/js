<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>平滑移动</title>
		<style type="text/css">
			div {
				width: 50px;
				height: 50px;
				position: absolute;
				background-color: red;
				/*top: 50%;*/
				/*margin-top: -25px;*/
				/*left: 50%;*/
				/*margin-left: -25px;*/
			}
		</style>
	</head>

	<body>
		<div></div>
	</body>
	<script type="text/javascript">
		var div = document.querySelector('div');
		var l = false;
		var t = false,
			r = false,
			b = false;
		setInterval(function() {
			var numL = div.offsetLeft;
			var numT = div.offsetTop;
			l&&(div.style.left = numL - 3 + "px");
			t&&(div.style.top = numT - 3 + "px");
			r&&(div.style.left = numL + 3 + "px");
			b&&(div.style.top = numT + 3 + "px");
		}, 20)

		document.onkeydown = function(e) {
			var ev = e || event;
			move(ev.keyCode,true);
			
		}
		document.onkeyup = function(e) {
			var ev = e || event;
			move(ev.keyCode,false);
		}
		function move(keyCode,bool){
			switch(keyCode) {
				case 37:
					l = bool;
					break;
				case 38:
					t = bool;
					break;
				case 39:
					r = bool;
					break;
				case 40:
					b = bool;
					break;
			}
		}
	</script>

</html>